/*
 * Copyright (C) 2009-2023 Lemoine Automation Technologies
 *
 * SPDX-License-Identifier: Apache-2.0
 */

// Global :
@import "pulse.customdialog.less";

@import "pulse.exports.light.less"; // Global import
// @import "x-checkcurrenttime/x-checkcurrenttime.less";
// @import "x-checkpath/x-checkpath.less";
// @import "x-checkversion/x-checkversion.less";
// @import "x-checkconfigupdate/x-checkconfigupdate.less";
// @import "x-checklogin/x-checklogin.less";
// @import "x-message/x-message.less";

@import "x-machineselection/x-machineselection.less";

// Local
@import "x-periodmanager/x-periodmanager";
@import "x-ancestors/x-ancestors";
@import "x-groupsingroup/x-groupsingroup.less";
@import "x-machinedisplay/x-machinedisplay.less";
@import "x-workinfo/x-workinfo.less";
@import "x-defaultpie/x-defaultpie.less";
@import "x-freetext/x-freetext.less";
@import "x-zoominpagebutton/x-zoominpagebutton.less";
@import "x-showrunningdialogbutton/x-showrunningdialogbutton.less";
@import "style.less";

// For running dialog
@import "../running/running.less";
@import "pulsecomponent-detailspopup.less";

/*a {
  color: @color_text;
}*/

// Use Full screen
.pulse-mainarea-inner,
.main-table-box,
.single-cell {
  box-sizing: border-box;
  height: 100%;
}

.main-table-box {
  display: flex;
  flex-direction: column;
  justify-content: space-evenly;
  row-gap: 12px;

  .sub-title {
    display: flex;
    flex-direction: row;

    >x-ancestors {
      width: max-content;
      font-size: 1.5em;

      .ancestors-content {
        display: inline-flex;
        margin-left: 4px;
        background-color: @color_background;
        border-radius: @border_radius_small;
        border: 1px solid @color_window_border;
        padding: 6px 12px;

        a:hover {
          color: @color_text;
        }

        svg:hover {
          fill: @color_text;
        }
      }
    }
  }
}

/*main-table-box

<x-machinedisplay class="pulse-text pulse-component-loading pulsecomponent-context-ParamValidation */
x-groupsingroup {
  box-sizing: border-box;
  max-height: 95%;
  flex-grow: 9999;
}

.tile {
  border-radius: @border_radius;
  border: 1px solid @color_window_border;
}

.tile-title {
  border-top-left-radius: @border_radius;
  border-top-right-radius: @border_radius;
  display: flex;
  justify-content: flex-end;
  align-items: center;

  .machinedisplay-position {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);

    x-machinedisplay {
      text-align: center;

      span {
        width: auto;
      }
    }
  }

  .btn-title-div {
    position: relative;
    z-index: 1;
  }
}

.tile-content {
  border-radius: @border_radius;

  display: flex;
  flex-direction: column; // align children
  overflow: hidden; // Hide bottom displays when to small

  pointer-events: none; //TODO : TMP - to remove to allow click on pie for example - that means rework global .tile / .tile-title / .tile-content

  .mit-top-div {
    margin-top: 4px;
  }

  .mit-pie-div {
    flex-grow: 2; // Strech to available space
    flex-shrink: 2;

    box-sizing: border-box;
    padding: 4px; // To simulate margin around
    //width: 100%;
    //height: 100%;

    display: flex;
    flex-direction: column; // align children
    overflow: hidden; // Hide bottom displays when to small
    justify-content: space-between;
    align-items: stretch;

    min-height: 100px; // To see it always. Warning! Linked to .tile-content{ overflow: hidden; to hide bottom when needed

    x-defaultpie {
      flex-shrink: 5; // Strech
      flex-grow: 5;
      flex-basis: 80%;
      //  padding: 4px; // To simulate margin around
    }

    // Long text linked to pie
    x-freetext {
      flex-basis: auto; // will be cahnged to content when supported

      .freetext-content {
        text-align: center;
        font-weight: bold;
        font-size: 1.3em;
      }
    }
  }
}

x-workinfo {
  display: block;
  text-align: center;
  color: @color_text;
  min-height: 1.5em; // To force height even if no data - ONE LINE
  padding: 2px 0 0 0; // For Edge top padding....
  box-sizing: border-box;
  overflow: hidden; // For Chrome, small display = avoid 2 lines
  margin-bottom: 6px;

  .workinfo-singledata {
    font-size: 22px;
  }
  
}

.legend-content {
  display: none !important;
}