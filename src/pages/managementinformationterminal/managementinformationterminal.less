/*
 * Copyright (C) 2009-2023 Lemoine Automation Technologies
 *
 * SPDX-License-Identifier: Apache-2.0
 */

// Global :
@import "pulse.customdialog.less";

@import "pulse.exports.light.less"; // Global import
// @import "x-checkcurrenttime/x-checkcurrenttime.less";
// @import "x-checkpath/x-checkpath.less";
// @import "x-checkversion/x-checkversion.less";
// @import "x-checkconfigupdate/x-checkconfigupdate.less";
// @import "x-checklogin/x-checklogin.less";
// @import "x-message/x-message.less";

@import "x-machineselection/x-machineselection.less";

// Local
@import "x-periodmanager/x-periodmanager";
@import "x-ancestors/x-ancestors";
@import "x-groupsingroup/x-groupsingroup.less";
@import "x-machinedisplay/x-machinedisplay.less";
@import "x-workinfo/x-workinfo.less";
@import "x-defaultpie/x-defaultpie.less";
@import "x-freetext/x-freetext.less";
@import "x-zoominpagebutton/x-zoominpagebutton.less";
@import "x-showrunningdialogbutton/x-showrunningdialogbutton.less";
@import "style.less";

// For running dialog
@import "../running/running.less";
@import "pulsecomponent-detailspopup.less";

/*a {
  color: @color_text;
}*/

// Use Full screen
.pulse-mainarea-inner,
.main-table-box,
.single-cell {
  box-sizing: border-box;
  height: 100%;
}

.main-table-box {
  display: flex;
  flex-direction: column;
  justify-content: space-evenly;

  .sub-title {
    display: flex;
    flex-direction: row;

    >x-ancestors {
      width: max-content;

      .ancestors-content {
        display: inline-flex;
      }
    }

    /*>x-machinedisplay{
      width: max-content;
      font-weight: normal;
      padding-left: 4px;

      &.pulsecomponent-context-ParamValidation{
        display: none;
      }

      .machinedisplay-data{
        &::before {
          content: ' > ';
        }
      }
    }*/
  }
}

/*main-table-box

<x-machinedisplay class="pulse-text pulse-component-loading pulsecomponent-context-ParamValidation */
x-groupsingroup {
  box-sizing: border-box;
  max-height: 95%;
  flex-grow: 9999;
}

//tile-title
.tile-title {
  .btn-title-div {
    margin: auto; // vertical center
  }
}

// tile-content
.tile-content {
  display: flex;
  flex-direction: column; // align children
  overflow: hidden;  // Hide bottom displays when to small

  pointer-events: none; //TODO : TMP - to remove to allow click on pie for example - that means rework global .tile / .tile-title / .tile-content
  
  .mit-top-div {
    margin-top: 4px;
  }

  .mit-pie-div {
    flex-grow: 2; // Strech to available space
    flex-shrink: 2;

    box-sizing: border-box;
    padding: 4px; // To simulate margin around
    //width: 100%;
    //height: 100%;

    display: flex;
    flex-direction: column; // align children
    overflow: hidden; // Hide bottom displays when to small
    justify-content: space-between;
    align-items: stretch;

    min-height: 100px; // To see it always. Warning! Linked to .tile-content{ overflow: hidden; to hide bottom when needed

    x-defaultpie {
      flex-shrink: 5; // Strech
      flex-grow: 5;
      flex-basis: 80%;
      //  padding: 4px; // To simulate margin around
    }

    // Long text linked to pie
    x-freetext {
      flex-basis: auto; // will be cahnged to content when supported

      .freetext-content {
        text-align: center;
        font-weight: bold;
        font-size: 1.3em;
      }
    }
  }
}

x-workinfo {
  display: block;
  text-align: center;
  background-color: @widget_background; // @box_header_color;
  color: @widget_text;
  border-bottom: solid 1px @color_window_alternate_border;
  border-top: solid 1px @color_window_alternate_border;
  height: 1.5em; // To force height even if no data - ONE LINE
  padding: 2px 0 0 0; // For Edge top padding....
  box-sizing: border-box;

  overflow: hidden; // For Chrome, small display = avoid 2 lines
}

.legend-content{
  display: none !important;
}
