<!--
Copyright (C) 2009-2023 Lemoine Automation Technologies
Copyright (C) 2025 Atsora Solutions

SPDX-License-Identifier: Apache-2.0
-->

<div class="main-content">
    <x-periodmanager period-context="operatordashboard" displayshiftrange="true" displaydaysrange="0"
        displayhoursrange="0" exclude-now="false"></x-periodmanager>
    <div class="machinetab-list grouparray-dependant" id="grouparray">
        <x-grouparray templateid='boxtoclone' column=1 row=100 forcestaticlist=true></x-grouparray>
    </div>
    <div class="dashboard-content tile grouparray-dependant">
        <div class="nav-content">
            <div class="machine-title tile-title">
                <div class="machine-name">
                    <x-machinedisplay machine-context="PulseWebApp"></x-machinedisplay>
                    <x-reasonbutton machine-context="PulseWebApp"></x-reasonbutton>
                </div>
                <x-lastmachinestatus period-context="operatordashboard" machine-context="PulseWebApp"
                    status-context="PulseWebApp"></x-lastmachinestatus>

            </div>
            <div class="info-content">
                <div class="text-box border btn info-box">
                    <x-workinfo machine-context="PulseWebApp"></x-workinfo>
                    <x-tr class="text" key="content.reference" default="Reference"></x-tr>
                </div>
            </div>
        </div>

        <div class="stats-content">
            <div class="stats-perf-wrapper">
                <div class="performance-stats-container">
                    <div class="performance-display-wrapper">
                        <div class="numbers-content">
                            <div class="specificnumber-content production-content">
                                <x-production machine-context="PulseWebApp"></x-production>
                            </div>
                            <div class="specificnumber-content goal-content">
                                <x-productionshiftgoal machine-context="PulseWebApp"
                                class="title-number-content text"></x-productionshiftgoal>
                            </div>
                        </div>

                        <x-defaultpie machine-context="PulseWebApp"></x-defaultpie>
                        <x-productiongauge machine-context="PulseWebApp" motion-context='PulseWebApp'></x-productiongauge>
                    </div>

                    <div class="perf-tool-container">
                        <div class="title-number-content" id="performance-container">
                            <!-- <x-tr class="text" key="content.performance" default="Performance"></x-tr>  possibilitÃ© d'afficher le title performance-->
                            <div class="performancebar-bar-border">
                                <x-productionbar machine-context='PulseWebApp' motion-context='PulseWebApp'></x-productionbar>
                            </div>
                        </div>

                        <div class="changedtools-content">
                            <div class="title-number-content">
                                <x-tr class="text" key="content.changedtools" default="Change of tools"></x-tr>
                            </div>
                            <div class="toollifemachine-content">
                                <x-toollifemachine machine-context="PulseWebApp" status-context="PulseWebApp"
                                    period-context="operatordashboard"></x-toollifemachine>
                            </div>
                        </div>
                    </div>
                </div>

                <x-productiontrackergraph period-context="operatordashboard" machine-context="PulseWebApp"></x-productiontrackergraph>
            </div>
        </div>

        <div class="chronology-content">
            <div class="title-number-content">
                <x-tr class="text" key="content.state" default="State"></x-tr>
            </div>
            <div class="chart-chronology">
                <div class="machine-component" id='coloredbar'>
                    <div class="pulse-bar-div">
                        <div class="div-bar-and-percent">
                            <div class="div-bar">
                                <div class="graduation-bar">

                                    <x-datetimegraduation period-context="operatordashboard"></x-datetimegraduation>
                                </div>
                                <div class="pulse-bar-div">
                                    <div class="middle-bar">
                                        <x-reasonslotbar machine-context="PulseWebApp" motion-context="PulseWebApp"
                                            period-context="operatordashboard">
                                        </x-reasonslotbar>
                                        <x-redstacklightbar machine-context="PulseWebApp"
                                            period-context="operatordashboard"></x-redstacklightbar>
                                        <x-cncvaluebar machine-context="PulseWebApp"
                                            period-context="operatordashboard"></x-cncvaluebar>
                                    </div>
                                    <div class="bottom-bar"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="dashboard-footer">
            <div class="stops-content text-box btn">
                <x-lastmachinestatus period-context="operatordashboard" machine-context="PulseWebApp"
                    status-context="PulseWebApp"></x-lastmachinestatus>
            </div>

            <div class="period-content">
                <x-periodtoolbar period-context="operatordashboard" displayshiftrange=true></x-periodtoolbar>
            </div>

            <div class="dailydate-content">
                <x-clock display-date=true></x-clock>
            </div>
            <div class="hour-content">
                <x-clock display-seconds=false></x-clock>
            </div>
        </div>
    </div>
</div>
