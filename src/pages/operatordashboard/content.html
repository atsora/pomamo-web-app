<!--
Copyright (C) 2009-2023 Lemoine Automation Technologies
Copyright (C) 2025 Atsora Solutions

SPDX-License-Identifier: Apache-2.0
-->

<div class="main-content">
    <div class="machinetab-list grouparray-dependant" id="grouparray">
        <x-grouparray templateid='boxtoclone' column=1 row=100 forcestaticlist=true></x-grouparray>
    </div>
    <div class="dashboard-content tile grouparray-dependant">
        <div class="nav-content">
            <div class="machine-title tile-title">
                <div class="machine-name">
                    <x-machinedisplay machine-context="PulseWebApp"></x-machinedisplay>
                    <x-reasonbutton machine-context="PulseWebApp"></x-reasonbutton>
                </div>
                <div>
                    <x-lastmachinestatus period-context="operatordashboard" machine-context="PulseWebApp"
                        status-context="PulseWebApp"></x-lastmachinestatus>
                </div>

            </div>
            <div class="info-content">
                <div class="text-box border btn secondary-btn info-box">
                    <x-workinfo machine-context="PulseWebApp"></x-workinfo>
                    <x-tr class="text" key="content.reference" default="Reference"></x-tr>
                </div>
                <!--<div class="text-box border btn secondary-btn info-box">
                    <div>
                        <span>3212</span>
                        <span class="divider">/</span>
                        <span>5200</span>
                    </div>
                    
                    <div class="info-subtext">
                        <span class="text">Fait sur OF</span>
                        <span class="text todo">A faire</span>
                    </div>
                </div>-->
            </div>
        </div>


        <div class="stats-content">
            <div class="numbers-content">
                <div class="specificnumber-content">
                    <x-production machine-context="PulseWebApp"></x-production>
                </div>
                <div class="specificnumber-content">
                    <x-productionshiftgoal machine-context="PulseWebApp"
                        class="title-number-content text"></x-productionshiftgoal>
                </div>
            </div>
            <div class="numbers-content">
                <div class="specificnumber-content performance-content">
                    <div class="title-number-content">
                        <x-tr class="text" key="content.performance" default="Performance"></x-tr>
                    </div>
                    <div>
                        <x-productiongauge machine-context="PulseWebApp" display-mode="percent"></x-productiongauge>
                    </div>
                </div>
                
                <!--<div class="specificnumber-content scraps-content">
                    <div class="title-number-content">
                        <span class="text">Rebuts équipe</span>
                    </div>
                    <div class="number-content">
                        <span>12</span>
                    </div>
                    <div class="text-box border btn scrap-button body-btn">
                        <i class="fa-solid fa-trash-can-arrow-up"></i>
                        <span>Déclarer rebuts</span>
                    </div>
                </div>-->
            </div>
            <div class="numbers-content trackergraph-content">
                <x-productiontrackergraph period-context="operatordashboard"
                    machine-context="PulseWebApp"></x-productiontrackergraph>
            </div>
        </div>
        <div class="changedtools-content">
            <div class="title-number-content">
                <x-tr class="text" key="content.changedtools" default="Change of tools"></x-tr>
            </div>
            <div class="toollifemachine-content">
                <x-toollifemachine machine-context="PulseWebApp" status-context="PulseWebApp"
                    period-context="operatordashboard"></x-toollifemachine>
            </div>
        </div>
        <div class="chronology-content">
            <div class="title-number-content">
                <x-tr class="text" key="content.state" default="State"></x-tr>
            </div>
            <div class="chart-chronology">
                <div class="machine-component" id='coloredbar'>
                    <div class="pulse-bar-div">
                        <div class="div-bar-and-percent">
                            <div class="div-bar">
                                <div class="graduation-bar">

                                    <x-datetimegraduation period-context="operatordashboard"></x-datetimegraduation>
                                </div>
                                <div class="pulse-bar-div">
                                    <div class="middle-bar">
                                        <x-reasonslotbar machine-context="PulseWebApp" motion-context="PulseWebApp"
                                            period-context="operatordashboard">
                                        </x-reasonslotbar>
                                        <x-redstacklightbar machine-context="PulseWebApp"
                                            period-context="operatordashboard"></x-redstacklightbar>
                                        <x-cncvaluebar machine-context="PulseWebApp"
                                            period-context="operatordashboard"></x-cncvaluebar>
                                    </div>
                                    <div class="bottom-bar"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="dashboard-footer">
            <div class="stops-content text-box btn secondary-btn">
                <x-lastmachinestatus period-context="operatordashboard" machine-context="PulseWebApp"
                    status-context="PulseWebApp"></x-lastmachinestatus>
            </div>

            <div class="period-content">
                <x-periodtoolbar period-context="operatordashboard" displayshiftrange=true></x-periodtoolbar>
            </div>

            <div class="dailydate-content">
                <x-clock display-date=true></x-clock>
            </div>
            <div class="hour-content">
                <x-clock display-seconds=false></x-clock>
            </div>
        </div>
    </div>
</div>